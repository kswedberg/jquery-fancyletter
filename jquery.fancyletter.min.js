/*
 * jQuery Fancy Letter Plugin v1.1
 *
 * Date: Sun Jan 30 21:55:00 2011 CST
 * Requires: jQuery v1.2.6+
 *
 * Copyright 2010-11, Karl Swedberg, Matt Wiebe
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * 
 * 
 *
*/
(function(B){B.fn.fancyletter=function(D){var C={'"':"ldquo","'":"lsquo","“":"ldquo-","‘":"lsquo-","(":"lparen","«":"laquo","‹":"lsaquo"};return this.each(function(){var L,H,I,M,G=this,K=B(this),E=B.extend({},B.fn.fancyletter.defaults,D||{},B.metadata?K.metadata():B.meta?K.data():{}),N=new RegExp(E.characters),F=1;M=A(G);L=M.val;G=M.node;H=L.slice(0,F);if(E.groupPunctuation&&H in C){if(E.groupPunctuation){F=2;I=E.punctuatedClass+"  "+E.ltrClassPrefix+C[H];H=L.slice(1,2);I=H.toLowerCase()+" "+I;}else{I=C[firstletter];}}else{I=H.toLowerCase();}if(L&&N.test(H)){var J=B("<span></span>");H=L.slice(0,F);G.nodeValue=L.slice(F);J.text(H);J.addClass(E.commonClass+" "+E.ltrClassPrefix+I);J.prependTo(this);}});};function A(E){var C=E,D=E.firstChild,F="";if(!E){return"";}while(E.childNodes.length){E=E.firstChild;}F=E.nodeValue&&E.nodeValue.replace(/^\s\s*/,"")||"";if(F===""&&D&&D.nextSibling){return A(D.nextSibling);}else{return{node:E,val:F};}}B.fn.fancyletter.defaults={commonClass:"fancy-letter",ltrClassPrefix:"ltr-",characters:"[a-zA-Z]",punctuatedClass:"punct",groupPunctuation:true};})(jQuery);