/*
 * jQuery Fancy Letter Plugin v1.1
 *
 * Date: Sun Jan 30 21:55:00 2011 CST
 * Requires: jQuery v1.2.6+
 *
 * Copyright 2010-11, Karl Swedberg, Matt Wiebe
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * 
 * 
 *
*/
(function(b){b.fn.fancyletter=function(d){var c={'"':"ldquo","'":"lsquo","“":"ldquo-real","‘":"lsquo-real","(":"lparen","«":"laquo","‹":"lsaquo"};return this.each(function(){var l,h,i,m,g=this,k=b(this),e=b.extend({},b.fn.fancyletter.defaults,d||{},b.metadata?k.metadata():b.meta?k.data():{}),n=new RegExp(e.characters),f=1;m=a(g);l=m.val;g=m.node;h=l.slice(0,f);if(e.groupPunctuation&&h in c){if(e.groupPunctuation){f=2;i=e.punctuatedClass+"  "+e.ltrClassPrefix+c[h];h=l.slice(1,2);i=h.toLowerCase()+" "+i;}else{i=c[firstletter];}}else{i=h.toLowerCase();}if(l&&n.test(h)){var j=b("<span></span>");h=l.slice(0,f);g.nodeValue=l.slice(f);j.text(h);j.addClass(e.commonClass+" "+e.ltrClassPrefix+i);j.prependTo(this);}});};function a(e){var c=e,d=e.firstChild,f="";if(!e){return"";}while(e.childNodes.length){e=e.firstChild;}f=e.nodeValue&&e.nodeValue.replace(/^\s\s*/,"")||"";if(f===""&&d&&d.nextSibling){return a(d.nextSibling);}else{return{node:e,val:f};}}b.fn.fancyletter.defaults={commonClass:"fancy-letter",ltrClassPrefix:"ltr-",characters:"[a-zA-Z]",punctuatedClass:"punct",groupPunctuation:true};})(jQuery);